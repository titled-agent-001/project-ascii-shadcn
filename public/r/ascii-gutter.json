{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "ascii-gutter",
  "title": "ASCII Gutter",
  "description": "A side-gutter component that renders repeating characters (like >) along the edge of content, matching line count dynamically.",
  "files": [
    {
      "path": "src/registry/new-york/ascii-gutter/ascii-gutter.tsx",
      "content": "\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface AsciiGutterProps {\n  /** The gutter character to display on each line */\n  char?: string;\n  /** Position of the gutter */\n  side?: \"left\" | \"right\" | \"both\";\n  /** Gap between gutter char and content (in ch units) */\n  gap?: number;\n  /** Opacity of the gutter characters (0-1) */\n  opacity?: number;\n  /** Content to wrap */\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport function AsciiGutter({\n  char = \">\",\n  side = \"left\",\n  gap = 1,\n  opacity = 0.4,\n  children,\n  className,\n}: AsciiGutterProps) {\n  const contentRef = React.useRef<HTMLDivElement>(null);\n  const gutterLeftRef = React.useRef<HTMLDivElement>(null);\n  const gutterRightRef = React.useRef<HTMLDivElement>(null);\n  const [lineCount, setLineCount] = React.useState(0);\n\n  React.useEffect(() => {\n    const el = contentRef.current;\n    if (!el) return;\n\n    const measure = () => {\n      // Get line height from computed style\n      const style = window.getComputedStyle(el);\n      const lineHeight = parseFloat(style.lineHeight) || parseFloat(style.fontSize) * 1.2;\n      const totalHeight = el.scrollHeight;\n      const lines = Math.max(1, Math.round(totalHeight / lineHeight));\n      setLineCount(lines);\n    };\n\n    measure();\n\n    const ro = new ResizeObserver(measure);\n    ro.observe(el);\n\n    // Also observe mutations for dynamic content\n    const mo = new MutationObserver(measure);\n    mo.observe(el, { childList: true, subtree: true, characterData: true });\n\n    return () => {\n      ro.disconnect();\n      mo.disconnect();\n    };\n  }, [children]);\n\n  const gutterChars = Array.from({ length: lineCount }, () => char).join(\"\\n\");\n\n  return (\n    <div\n      className={cn(\"font-mono flex\", className)}\n      style={{ lineHeight: \"inherit\", fontSize: \"inherit\" }}\n    >\n      {(side === \"left\" || side === \"both\") && (\n        <div\n          ref={gutterLeftRef}\n          className=\"select-none shrink-0 whitespace-pre\"\n          style={{\n            opacity,\n            paddingRight: `${gap}ch`,\n            lineHeight: \"inherit\",\n            fontSize: \"inherit\",\n          }}\n          aria-hidden=\"true\"\n        >\n          {gutterChars}\n        </div>\n      )}\n      <div\n        ref={contentRef}\n        className=\"flex-1 min-w-0\"\n        style={{ lineHeight: \"inherit\", fontSize: \"inherit\" }}\n      >\n        {children}\n      </div>\n      {(side === \"right\" || side === \"both\") && (\n        <div\n          ref={gutterRightRef}\n          className=\"select-none shrink-0 whitespace-pre\"\n          style={{\n            opacity,\n            paddingLeft: `${gap}ch`,\n            lineHeight: \"inherit\",\n            fontSize: \"inherit\",\n          }}\n          aria-hidden=\"true\"\n        >\n          {gutterChars}\n        </div>\n      )}\n    </div>\n  );\n}\n",
      "type": "registry:component"
    }
  ],
  "type": "registry:block"
}