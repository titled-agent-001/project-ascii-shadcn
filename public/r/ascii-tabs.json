{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "ascii-tabs",
  "title": "ASCII Tabs",
  "description": "A tabbed interface component using ASCII box-drawing characters with active tab indication, keyboard navigation, and optional double borders.",
  "files": [
    {
      "path": "src/registry/new-york/ascii-tabs/ascii-tabs.tsx",
      "content": "\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface AsciiTabsProps {\n  tabs: Array<{\n    label: string;\n    content: React.ReactNode | string;\n  }>;\n  defaultTab?: number;\n  width?: number;\n  doubleBorder?: boolean;\n  onChange?: (index: number) => void;\n  className?: string;\n}\n\nexport function AsciiTabs({\n  tabs,\n  defaultTab = 0,\n  width = 60,\n  doubleBorder = false,\n  onChange,\n  className,\n}: AsciiTabsProps) {\n  const [active, setActive] = React.useState(defaultTab);\n\n  const [tl, tr, bl, br, h, v] = doubleBorder\n    ? [\"╔\", \"╗\", \"╚\", \"╝\", \"═\", \"║\"]\n    : [\"┌\", \"┐\", \"└\", \"┘\", \"─\", \"│\"];\n\n  const inactiveL = doubleBorder ? \"╶\" : \"╶\";\n  const inactiveR = doubleBorder ? \"╴\" : \"╴\";\n\n  const handleSelect = (i: number) => {\n    setActive(i);\n    onChange?.(i);\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    let next = active;\n    if (e.key === \"ArrowRight\" || e.key === \"ArrowDown\") {\n      next = (active + 1) % tabs.length;\n    } else if (e.key === \"ArrowLeft\" || e.key === \"ArrowUp\") {\n      next = (active - 1 + tabs.length) % tabs.length;\n    } else if (e.key === \"Home\") {\n      next = 0;\n    } else if (e.key === \"End\") {\n      next = tabs.length - 1;\n    } else {\n      return;\n    }\n    e.preventDefault();\n    handleSelect(next);\n  };\n\n  // Build header line\n  const buildHeaders = (): string => {\n    const parts: string[] = [];\n    for (let i = 0; i < tabs.length; i++) {\n      const label = tabs[i].label;\n      if (i === active) {\n        parts.push(`${tl}${h}${h}${label}${h}${h}${tr}`);\n      } else {\n        parts.push(`${inactiveL}${h}${h}${label}${h}${h}${inactiveR}`);\n      }\n      if (i < tabs.length - 1) parts.push(\" \");\n    }\n    return parts.join(\"\");\n  };\n\n  // Build the connection line between tabs and content\n  const buildConnectionLine = (): string => {\n    const header = buildHeaders();\n    const headerLen = header.length;\n    // Find active tab position in the header string\n    const activeLabel = tabs[active].label;\n    const activeTabStr = `${tl}${h}${h}${activeLabel}${h}${h}${tr}`;\n    const activeStart = header.indexOf(activeTabStr);\n    const activeEnd = activeStart + activeTabStr.length - 1;\n\n    const lineWidth = Math.max(width, headerLen);\n    const chars: string[] = [];\n    for (let i = 0; i < lineWidth; i++) {\n      if (i === 0) {\n        // If active tab starts at 0, use the left border of content\n        if (activeStart === 0) {\n          chars.push(v);\n        } else {\n          chars.push(doubleBorder ? \"╔\" : \"┌\");\n        }\n      } else if (i === lineWidth - 1) {\n        if (activeEnd === lineWidth - 1) {\n          chars.push(v);\n        } else {\n          chars.push(doubleBorder ? \"╗\" : \"┐\");\n        }\n      } else if (i === activeStart) {\n        // Bottom-right of active tab connects to content border\n        chars.push(doubleBorder ? \"╝\" : \"┘\");\n      } else if (i === activeEnd) {\n        chars.push(doubleBorder ? \"╚\" : \"└\");\n      } else if (i > activeStart && i < activeEnd) {\n        chars.push(\" \");\n      } else {\n        chars.push(h);\n      }\n    }\n    return chars.join(\"\");\n  };\n\n  const padLine = (text: string): string => {\n    const header = buildHeaders();\n    const lineWidth = Math.max(width, header.length);\n    const inner = lineWidth - 2;\n    const trimmed = text.substring(0, inner);\n    return `${v}${trimmed}${\" \".repeat(Math.max(0, inner - trimmed.length))}${v}`;\n  };\n\n  const header = buildHeaders();\n  const lineWidth = Math.max(width, header.length);\n  const bottomLine = `${bl}${h.repeat(lineWidth - 2)}${br}`;\n\n  const [copied, setCopied] = React.useState(false);\n\n  const contentStr =\n    typeof tabs[active].content === \"string\" ? (tabs[active].content as string) : null;\n\n  const handleCopy = () => {\n    if (contentStr) {\n      navigator.clipboard.writeText(contentStr).then(() => {\n        setCopied(true);\n        setTimeout(() => setCopied(false), 2000);\n      });\n    }\n  };\n\n  // Reset copied state when switching tabs\n  React.useEffect(() => {\n    setCopied(false);\n  }, [active]);\n\n  return (\n    <div\n      className={cn(\"font-mono whitespace-pre leading-[1.2em]\", className)}\n      role=\"tablist\"\n      tabIndex={0}\n      onKeyDown={handleKeyDown}\n      aria-label=\"ASCII Tabs\"\n    >\n      {/* Tab headers */}\n      <div className=\"flex\">\n        {tabs.map((tab, i) => (\n          <React.Fragment key={i}>\n            <span\n              role=\"tab\"\n              aria-selected={i === active}\n              className={cn(\n                \"cursor-pointer select-none\",\n                i === active ? \"opacity-100\" : \"opacity-60 hover:opacity-80\"\n              )}\n              onClick={() => handleSelect(i)}\n            >\n              {i === active\n                ? `${tl}${h}${h}${tab.label}${h}${h}${tr}`\n                : `${inactiveL}${h}${h}${tab.label}${h}${h}${inactiveR}`}\n            </span>\n            {i < tabs.length - 1 && <span>{\" \"}</span>}\n          </React.Fragment>\n        ))}\n      </div>\n\n      {/* Connection line */}\n      <div>{buildConnectionLine()}</div>\n\n      {/* Content area */}\n      {contentStr !== null ? (\n        <div className=\"relative\">\n          {/* Copy button */}\n          <button\n            onClick={handleCopy}\n            className={cn(\n              \"absolute top-0 right-4 z-10 cursor-pointer select-none px-1\",\n              \"opacity-50 hover:opacity-100 transition-opacity\",\n              copied && \"opacity-100\"\n            )}\n            aria-label=\"Copy to clipboard\"\n            title={copied ? \"Copied!\" : \"Copy\"}\n          >\n            {copied ? \"[✓]\" : \"[⧉]\"}\n          </button>\n          {contentStr.split(\"\\n\").map((line, i) => (\n            <div key={i}>{padLine(` ${line}`)}</div>\n          ))}\n          <div>{padLine(\"\")}</div>\n        </div>\n      ) : (\n        <div className=\"flex\">\n          <span>{v}</span>\n          <div className=\"flex-1 px-2 py-1\">{tabs[active].content}</div>\n          <span>{v}</span>\n        </div>\n      )}\n\n      {/* Bottom border */}\n      <div>{bottomLine}</div>\n    </div>\n  );\n}\n",
      "type": "registry:component"
    }
  ],
  "type": "registry:block"
}